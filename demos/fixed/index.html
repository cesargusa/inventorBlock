<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Blockly Demo: Fixed Blockly</title>
  <script src="../../blockly_compressed.js"></script>
  <script src="../../blockly_compressed2.js"></script>
  <!-- <script src="../../blocks_compressed.js"></script> -->
  <!-- <script src="../../javascript_compressed.js"></script> -->
  <script src="../../msg/js/en.js"></script>
  <script src="../fixed/js/wait_block.js"></script>
  <script src="acorn_interpreter.js"></script>


   <!-- needed for type of variable -->
   <script type="text/javascript" src="../../core/Ardublockly/type.js"></script>
   <script type="text/javascript" src="../../core/Ardublockly/types.js"></script>
   <script type="text/javascript" src="../../core/Ardublockly/static_typing.js"></script>
   <script type="text/javascript" src="../../core/Ardublockly/instances.js"></script>
   <script type="text/javascript" src="../../core/Ardublockly/field_instance.js"></script>
   <script type="text/javascript" src="../../core/Ardublockly/block_instance.js"></script>

  <!--Arduino generator, must be defined NOW-->
  <script type="text/javascript" src="../../generators/generator_arduino.js"></script>
  <script type="text/javascript" src="../../generators/generator_python.js"></script>

  <script type="text/javascript" src="../../core/BlocklyArduino/blockly@rduino_core_web.js"></script>
  <script type="text/javascript" src="../../core/BlocklyArduino/blockly@rduino_boards.js"></script>
  <script type="text/javascript" src="../../core/BlocklyArduino/blockly@rduino_functions_buttons_web.js"></script>
  <script type="text/javascript" src="../../core/BlocklyArduino/blockly@rduino_tools.js"></script>
  <script type="text/javascript" src="../../core/BlocklyArduino/blockly@rduino_visual.js"></script>
  <script type="text/javascript" src="../../core/BlocklyArduino/blockly@rduino_visual_buttons.js"></script>

  <script type="text/javascript" src="../../core/libs/jquery-2.1.3.min.js"></script>
  <script type="text/javascript" src="../../core/libs/jquery-ui.js"></script>
  <script type="text/javascript" src="../../core/libs/bootstrap.min.3.3.6.js"></script>
  <script type="text/javascript" src="../../core/libs/bootstrap-toggle.min.js"></script>
  <script type="text/javascript" src="../../core/libs/clipboard.min.js"></script>
  <script type="text/javascript" src="../../core/libs/head.load.min.js"></script>
  <script type="text/javascript" src="../../core/libs/html2canvas.min.js"></script>
  <script type="text/javascript" src="../../core/libs/canvas2image.js"></script>
  <script type="text/javascript" src="../../core/libs/prettify.min.js"></script>
  <script type="text/javascript" src="../../core/libs/smoothie.js"></script>

   <!-- define all additional blocks from one resumer-->
   <script type="text/javascript" src="../../blocks/arduino_resume.js"></script>
   <script type="text/javascript" src="../../generators/arduino_resume.js"></script>

    <!-- define all python & micro:bit-->
    <script type="text/javascript" src="../../blocks/microbit/microbit.js"></script>
    <script type="text/javascript" src="../../generators/python_resume.js"></script>


  <link rel="stylesheet" type="text/css" href="../../demos/fixed/index.css" media="screen" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" 
  integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">
</head>

<body>
  <header>
    <div class="cabecera">
    <div class="logo"><a href="https://academiadeinventores.com/"><img src="https://academiadeinventores.com/wp-content/uploads/2020/06/logotipo_academia_blanco.svg" width="280px" alt="Academia de inventores"></div>
      <div class="items">
        <div class="item"><img src="../fixed/assets/Logo3.JPG" width="330px"></div>
        <div class="item"><h4><a href="https://developers.google.com/blockly/">Blockly</a> &gt;<a href="../index.html">Demos</a> &gt; Fixed Blockly</h4></div>
      </div>
    </div>
  </header>
  <p>Utiliza los bloques para poder crear tu propio código</p>

  <p>&rarr; Más informaión en: <a href="https://developers.google.com/blockly/guides/configure-blockly/web/fixed-size">injecting fixed-sized Blockly</a>&hellip;</p>

  <div class="Importar"><input id="Archivo"  type="file" onchange ="importBlocksFile(this);" accept=".txt,.xml"></div>

  <p>
    <button class="button1" onclick="showCode()">Mostrar JavaScript</button>
    <button class="button2" onclick="runCode()">Iniciar JavaScript</button>
    <button class="button3" onclick="exportBlocks()">Guardar pryecto</button>
  </p>

  <div class="playarea">
    <div id="blocklyDiv" style="height: 480px; width: 600px;">
      <xml xmlns="https://developers.google.com/blockly/xml" id="toolbox" style="display: none">
         <!-- Logica 
        <category name="Logica" colour="210">
          <block type="controls_if"></block>
          <block type="logic_compare"></block>
          <block type="controls_if">
            <mutation else="1"></mutation>
          </block>
          <block type="controls_if">
            <mutation elseif="1" else="1"></mutation>
          </block>
          <block type="logic_operation"></block>
          <block type="logic_negate"></block>
          <block type="logic_boolean"></block>
          <block type="logic_null"></block>
          <block type="logic_ternary"></block>
        </category>

         Loops 
        <category name="Loops" colour="%{BKY_LOOPS_HUE}">
          <block type="controls_repeat_ext">
            <value name="TIMES">
              <block type="math_number">
                <field name="NUM">10</field>
              </block>
            </value>
          </block>
          <block type="controls_whileUntil"></block>
          <block type="controls_for">
            <field name="VAR">i</field>
            <value name="FROM">
              <block type="math_number">
                <field name="NUM">1</field>
              </block>
            </value>
            <value name="TO">
              <block type="math_number">
                <field name="NUM">10</field>
              </block>
            </value>
            <value name="BY">
              <block type="math_number">
                <field name="NUM">1</field>
              </block>
            </value>
          </block>
          <block type="controls_forEach"></block>
          <block type="controls_flow_statements"></block>
        </category>

        Matematicas 
        <category name="Matematicas" colour="230">
          <block type="math_number">
            <field name="NUM">123</field>
          </block>
          <block type="math_arithmetic"></block>
          <block type="math_single"></block>
          <block type="math_trig"></block>
          <block type="math_constant"></block>
          <block type="math_number_property"></block>
          <block type="math_round"></block>
          <block type="math_on_list"></block>
          <block type="math_modulo"></block>
          <block type="math_constrain">
            <value name="LOW">
              <block type="math_number">
                <field name="NUM">1</field>
              </block>
            </value>
            <value name="HIGH">
              <block type="math_number">
                <field name="NUM">100</field>
              </block>
            </value>
          </block>
          <block type="math_random_int">
            <value name="FROM">
              <block type="math_number">
                <field name="NUM">1</field>
              </block>
            </value>
            <value name="TO">
              <block type="math_number">
                <field name="NUM">100</field>
              </block>
            </value>
          </block>
          <block type="math_random_float"></block>
          <block type="math_atan2"></block>
        </category>

         Texto 
        <category name="Texto" colour="150">
          <block type="text"></block>
          <block type="text_print"></block>
          <block type="text_length"></block>
        </category>

         Listas 
        <category name="Listas"colour="%{BKY_VARIABLES_HUE}">
          <block type="lists_create_empty"></block>
          <block type="lists_create_with"></block>
          <block type="lists_repeat">
            <value name="NUM">
              <block type="math_number">
                <field name="NUM">5</field>
              </block>
            </value>
          </block>
          <block type="lists_length"></block>
          <block type="lists_isEmpty"></block>
          <block type="lists_indexOf">
            <value name="VALUE">
              <block type="variables_get">
                <field name="VAR">list</field>
              </block>
            </value>
          </block>
          <block type="lists_getIndex">
            <value name="VALUE">
              <block type="variables_get">
                <field name="VAR">list</field>
              </block>
            </value>
          </block>
          <block type="lists_setIndex">
            <value name="LIST">
              <block type="variables_get">
                <field name="VAR">list</field>
              </block>
            </value>
          </block>
          <block type="lists_getSublist">
            <value name="LIST">
              <block type="variables_get">
                <field name="VAR">list</field>
              </block>
            </value>
          </block>
          <block type="lists_split">
            <value name="DELIM">
              <block type="text">
                <field name="TEXT">,</field>
              </block>
            </value>
          </block>
        </category>

         Variables y funciones 
        <sep></sep>
        <category name="Variables" custom="VARIABLE" colour="%{BKY_VARIABLES_HUE}">
        </category>
        <category name="Functions" custom="PROCEDURE" colour="%{BKY_PROCEDURES_HUE}">
        </category>

       Colores 
        <sep></sep>
        <category name="Colour">
          <block type="colour_picker"></block>
          <block type="colour_random"></block>
          <block type="colour_rgb">
            <value name="RED">
              <block type="math_number">
                <field name="NUM">100</field>
              </block>
            </value>
            <value name="GREEN">
              <block type="math_number">
                <field name="NUM">50</field>
              </block>
            </value>
            <value name="BLUE">
              <block type="math_number">
                <field name="NUM">0</field>
              </block>
            </value>
          </block>
          <block type="colour_blend">
            <value name="COLOUR1">
              <block type="colour_picker">
                <field name="COLOUR">#ff0000</field>
              </block>
            </value>
            <value name="COLOUR2">
              <block type="colour_picker">
                <field name="COLOUR">#3333ff</field>
              </block>
            </value>
            <value name="RATIO">
              <block type="math_number">
                <field name="NUM">0.5</field>
              </block>
            </value>
          </block>
        </category>

         Ejemplos 
        <sep></sep>
        <category name="Library" expanded="true">
          <category name="Randomize">
            <block type="procedures_defnoreturn">
              <mutation>
                <arg name="list"></arg>
              </mutation>
              <field name="NAME">randomize</field>
              <statement name="STACK">
                <block type="controls_for" inline="true">
                  <field name="VAR">x</field>
                  <value name="FROM">
                    <block type="math_number">
                      <field name="NUM">1</field>
                    </block>
                  </value>
                  <value name="TO">
                    <block type="lists_length" inline="false">
                      <value name="VALUE">
                        <block type="variables_get">
                          <field name="VAR">list</field>
                        </block>
                      </value>
                    </block>
                  </value>
                  <value name="BY">
                    <block type="math_number">
                      <field name="NUM">1</field>
                    </block>
                  </value>
                  <statement name="DO">
                    <block type="variables_set" inline="false">
                      <field name="VAR">y</field>
                      <value name="VALUE">
                        <block type="math_random_int" inline="true">
                          <value name="FROM">
                            <block type="math_number">
                              <field name="NUM">1</field>
                            </block>
                          </value>
                          <value name="TO">
                            <block type="lists_length" inline="false">
                              <value name="VALUE">
                                <block type="variables_get">
                                  <field name="VAR">list</field>
                                </block>
                              </value>
                            </block>
                          </value>
                        </block>
                      </value>
                      <next>
                        <block type="variables_set" inline="false">
                          <field name="VAR">temp</field>
                          <value name="VALUE">
                            <block type="lists_getIndex" inline="true">
                              <mutation statement="false" at="true"></mutation>
                              <field name="MODE">GET</field>
                              <field name="WHERE">FROM_START</field>
                              <value name="AT">
                                <block type="variables_get">
                                  <field name="VAR">y</field>
                                </block>
                              </value>
                              <value name="VALUE">
                                <block type="variables_get">
                                  <field name="VAR">list</field>
                                </block>
                              </value>
                            </block>
                          </value>
                          <next>
                            <block type="lists_setIndex" inline="false">
                              <value name="AT">
                                <block type="variables_get">
                                  <field name="VAR">y</field>
                                </block>
                              </value>
                              <value name="LIST">
                                <block type="variables_get">
                                  <field name="VAR">list</field>
                                </block>
                              </value>
                              <value name="TO">
                                <block type="lists_getIndex" inline="true">
                                  <mutation statement="false" at="true"></mutation>
                                  <field name="MODE">GET</field>
                                  <field name="WHERE">FROM_START</field>
                                  <value name="AT">
                                    <block type="variables_get">
                                      <field name="VAR">x</field>
                                    </block>
                                  </value>
                                  <value name="VALUE">
                                    <block type="variables_get">
                                      <field name="VAR">list</field>
                                    </block>
                                  </value>
                                </block>
                              </value>
                              <next>
                                <block type="lists_setIndex" inline="false">
                                  <value name="AT">
                                    <block type="variables_get">
                                      <field name="VAR">x</field>
                                    </block>
                                  </value>
                                  <value name="LIST">
                                    <block type="variables_get">
                                      <field name="VAR">list</field>
                                    </block>
                                  </value>
                                  <value name="TO">
                                    <block type="variables_get">
                                      <field name="VAR">temp</field>
                                    </block>
                                  </value>
                                </block>
                              </next>
                            </block>
                          </next>
                        </block>
                      </next>
                    </block>
                  </statement>
                </block>
              </statement>
            </block>
          </category>
          <category name="Jabberwocky">
            <block type="text_print">
              <value name="TEXT">
                <block type="text">
                  <field name="TEXT">'Twas brillig, and the slithy toves</field>
                </block>
              </value>
              <next>
                <block type="text_print">
                  <value name="TEXT">
                    <block type="text">
                      <field name="TEXT">  Did gyre and gimble in the wabe:</field>
                    </block>
                  </value>
                  <next>
                    <block type="text_print">
                      <value name="TEXT">
                        <block type="text">
                          <field name="TEXT">All mimsy were the borogroves,</field>
                        </block>
                      </value>
                      <next>
                        <block type="text_print">
                          <value name="TEXT">
                            <block type="text">
                              <field name="TEXT">  And the mome raths outgrabe.</field>
                            </block>
                          </value>
                        </block>
                      </next>
                    </block>
                  </next>
                </block>
              </next>
            </block>
            <block type="text_print">
              <value name="TEXT">
                <block type="text">
                  <field name="TEXT">"Beware the Jabberwock, my son!</field>
                </block>
              </value>
              <next>
                <block type="text_print">
                  <value name="TEXT">
                    <block type="text">
                      <field name="TEXT">  The jaws that bite, the claws that catch!</field>
                    </block>
                  </value>
                  <next>
                    <block type="text_print">
                      <value name="TEXT">
                        <block type="text">
                          <field name="TEXT">Beware the Jubjub bird, and shun</field>
                        </block>
                      </value>
                      <next>
                        <block type="text_print">
                          <value name="TEXT">
                            <block type="text">
                              <field name="TEXT">  The frumious Bandersnatch!"</field>
                            </block>
                          </value>
                        </block>
                      </next>
                    </block>
                  </next>
                </block>
              </next>
            </block>
          </category>
        </category>
         -->
        <category name="Arduino">
        <div class="blocklyToolboxDiv" dir="LTR" style="left: 0px; height: 263px;"><div class="blocklyTreeRoot" id=":0" role="tree" aria-selected="false" aria-expanded="false" aria-level="0" aria-labelledby=":0.label" hidefocus="true" tabindex="0"><div class="blocklyTreeRow blocklyHidden" style="padding-left:0px;"><span style="display:inline-block;" class="" role="presentation"></span><span class="blocklyTreeLabel" id=":0.label"></span><span></span></div><div style="background-position:-100px 0;" role="group"><div class="" id=":1" role="treeitem" aria-selected="false" aria-expanded="false" aria-level="1" aria-labelledby=":1.label" aria-setsize="7" aria-posinset="1"><div class="blocklyTreeRow" style="padding-left: 0px; border-left: 8px solid rgb(255, 171, 25);"><span role="presentation"></span><span style="display:inline-block;" class="blocklyTreeIcon blocklyTreeIconNone" role="presentation"></span><span class="blocklyTreeLabel" id=":1.label">Logic</span><span></span></div><div style="background-position:0px 0;display:none;" role="group"></div></div><div class="" id=":2" role="treeitem" aria-selected="false" aria-expanded="false" aria-level="1" aria-labelledby=":2.label" aria-setsize="7" aria-posinset="2"><div class="blocklyTreeRow" style="padding-left: 0px; border-left: 8px solid rgb(255, 213, 0);"><span role="presentation"></span><span style="display:inline-block;" class="blocklyTreeIcon blocklyTreeIconNone" role="presentation"></span><span class="blocklyTreeLabel" id=":2.label">Loops</span><span></span></div><div style="background-position:0px 0;display:none;" role="group"></div></div><div class="" id=":3" role="treeitem" aria-selected="false" aria-expanded="false" aria-level="1" aria-labelledby=":3.label" aria-setsize="7" aria-posinset="3"><div class="blocklyTreeRow" style="padding-left: 0px; border-left: 8px solid rgb(64, 191, 74);"><span role="presentation"></span><span style="display:inline-block;" class="blocklyTreeIcon blocklyTreeIconNone" role="presentation"></span><span class="blocklyTreeLabel" id=":3.label">Math</span><span></span></div><div style="background-position:0px 0;display:none;" role="group"></div></div><div class="" id=":4" role="treeitem" aria-selected="false" aria-expanded="false" aria-level="1" aria-labelledby=":4.label" aria-setsize="7" aria-posinset="4"><div class="blocklyTreeRow" style="padding-left: 0px; border-left: 8px solid rgb(76, 191, 230);"><span role="presentation"></span><span style="display:inline-block;" class="blocklyTreeIcon blocklyTreeIconNone" role="presentation"></span><span class="blocklyTreeLabel" id=":4.label">Array</span><span></span></div><div style="background-position:0px 0;display:none;" role="group"></div></div><div class="" id=":5" role="treeitem" aria-selected="false" aria-expanded="false" aria-level="1" aria-labelledby=":5.label" aria-setsize="7" aria-posinset="5"><div class="blocklyTreeRow" style="padding-left: 0px; border-left: 8px solid rgb(153, 102, 255);"><span role="presentation"></span><span style="display:inline-block;" class="blocklyTreeIcon blocklyTreeIconNone" role="presentation"></span><span class="blocklyTreeLabel" id=":5.label">Text</span><span></span></div><div style="background-position:0px 0;display:none;" role="group"></div></div><div class="" id=":6" role="treeitem" aria-selected="false" aria-expanded="false" aria-level="1" aria-labelledby=":6.label" aria-setsize="7" aria-posinset="6"><div class="blocklyTreeRow" style="padding-left: 0px; border-left: 8px solid rgb(255, 140, 26);"><span role="presentation"></span><span style="display:inline-block;" class="blocklyTreeIcon blocklyTreeIconNone" role="presentation"></span><span class="blocklyTreeLabel" id=":6.label">Variables</span><span></span></div><div style="background-position:0px 0;display:none;" role="group"></div></div><div class="" id=":7" role="treeitem" aria-selected="false" aria-expanded="false" aria-level="1" aria-labelledby=":7.label" aria-setsize="7" aria-posinset="7"><div class="blocklyTreeRow" style="padding-left: 0px; border-left: 8px solid rgb(255, 102, 128);"><span role="presentation"></span><span style="display:inline-block;" class="blocklyTreeIcon blocklyTreeIconNone" role="presentation"></span><span class="blocklyTreeLabel" id=":7.label">Functions</span><span></span></div><div style="background-position:-100px 0;display:none;" role="group"></div></div></div></div></div>
        <g class="blocklyFlyout" transform="translate(178,0)" style="display: block;"><path class="blocklyFlyoutBackground" d="M 0,0 h 178.59266662597656 a 8 8 0 0 1 8 8 v 124 a 8 8 0 0 1 -8 8 h -178.59266662597656 z"></path><g class="blocklyWorkspace"><g class="blocklyBlockCanvas" transform="translate(0,2) scale(1)"><rect fill-opacity="0" width="66.30636596679688" height="63" x="16" y="8"></rect><rect fill-opacity="0" width="151.59266662597656" height="88" x="16" y="95"></rect><rect fill-opacity="0" width="113.88189697265625" height="36" x="8" y="207"></rect><g class="blocklyDraggable" transform="translate(16,207)"><path class="blocklyPathDark" transform="translate(1,1)" fill="#cc8914" d="m 0,0 H 20 H 105.88189697265625 v 35 H 0 V 20 c 0,-10 -8,8 -8,-7.5 s 8,2.5 8,-7.5 z
          M 30.5,5 h -14.5 v 5 c 0,10 -8,-8 -8,7.5 s 8,-2.5 8,7.5 v 6 h 14.5 z M 95.88189697265625,5 h -14.5 v 5 c 0,10 -8,-8 -8,7.5 s 8,-2.5 8,7.5 v 6 h 14.5 z"></path><path class="blocklyPath" fill="#FFAB19" d="m 0,0 H 20 H 105.88189697265625 v 35 H 0 V 20 c 0,-10 -8,8 -8,-7.5 s 8,2.5 8,-7.5 z
          M 30.5,5 h -14.5 v 5 c 0,10 -8,-8 -8,7.5 s 8,-2.5 8,7.5 v 6 h 14.5 z M 95.88189697265625,5 h -14.5 v 5 c 0,10 -8,-8 -8,7.5 s 8,-2.5 8,7.5 v 6 h 14.5 z"></path><path class="blocklyPathLight" stroke="#ffc45e" d="m 0.5,0.5 H 19.5 M 19.5,0.5 H 105.38189697265625 M 0.5,34.5 V 18.5 m -7.36,-0.5 q -1.52,-5.5 0,-11 m 7.36,1 V 0.5 H 1
          M 31,5.5 v 26 h -14.5 M 10.9,24.3 l 3.68,-2.1 M 96.38189697265625,5.5 v 26 h -14.5 M 76.28189697265626,24.3 l 3.68,-2.1"></path><g class="blocklyEditableText" transform="translate(40.5,10)" style="cursor: default;"><rect rx="4" ry="4" x="-5" y="0" height="16" width="34.88189697265625"></rect><text class="blocklyText" y="12.5">=<tspan style="fill: rgb(255, 171, 25);"> ▾</tspan></text></g></g><rect fill-opacity="0" width="129.78024291992188" height="36" x="8" y="267"></rect><g class="blocklyDraggable" transform="translate(16,267)"><path class="blocklyPathDark" transform="translate(1,1)" fill="#cc8914" d="m 0,0 H 20 H 121.78024291992188 v 35 H 0 V 20 c 0,-10 -8,8 -8,-7.5 s 8,2.5 8,-7.5 z
          M 30.5,5 h -14.5 v 5 c 0,10 -8,-8 -8,7.5 s 8,-2.5 8,7.5 v 6 h 14.5 z M 111.78024291992188,5 h -14.5 v 5 c 0,10 -8,-8 -8,7.5 s 8,-2.5 8,7.5 v 6 h 14.5 z"></path><path class="blocklyPath" fill="#FFAB19" d="m 0,0 H 20 H 121.78024291992188 v 35 H 0 V 20 c 0,-10 -8,8 -8,-7.5 s 8,2.5 8,-7.5 z
          M 30.5,5 h -14.5 v 5 c 0,10 -8,-8 -8,7.5 s 8,-2.5 8,7.5 v 6 h 14.5 z M 111.78024291992188,5 h -14.5 v 5 c 0,10 -8,-8 -8,7.5 s 8,-2.5 8,7.5 v 6 h 14.5 z"></path><path class="blocklyPathLight" stroke="#ffc45e" d="m 0.5,0.5 H 19.5 M 19.5,0.5 H 121.28024291992188 M 0.5,34.5 V 18.5 m -7.36,-0.5 q -1.52,-5.5 0,-11 m 7.36,1 V 0.5 H 1
          M 31,5.5 v 26 h -14.5 M 10.9,24.3 l 3.68,-2.1 M 112.28024291992188,5.5 v 26 h -14.5 M 92.18024291992188,24.3 l 3.68,-2.1"></path><g class="blocklyEditableText" transform="translate(40.5,10)" style="cursor: default;"><rect rx="4" ry="4" x="-5" y="0" height="16" width="50.780242919921875"></rect><text class="blocklyText" y="12.5">and<tspan style="fill: rgb(255, 171, 25);"> ▾</tspan></text></g></g><rect fill-opacity="0" width="56.37937927246094" height="25" x="8" y="327"></rect><g class="blocklyDraggable" transform="translate(16,327)"><path class="blocklyPathDark" transform="translate(1,1)" fill="#cc8914" d="m 0,0 H 48.37937927246094 v 5 c 0,10 -8,-8 -8,7.5 s 8,-2.5 8,7.5 v 4 H 0 V 20 c 0,-10 -8,8 -8,-7.5 s 8,2.5 8,-7.5 z
          "></path><path class="blocklyPath" fill="#FFAB19" d="m 0,0 H 48.37937927246094 v 5 c 0,10 -8,-8 -8,7.5 s 8,-2.5 8,7.5 v 4 H 0 V 20 c 0,-10 -8,8 -8,-7.5 s 8,2.5 8,-7.5 z
          "></path><path class="blocklyPathLight" stroke="#ffc45e" d="m 0.5,0.5 H 47.87937927246094 M 47.87937927246094,0.5 M 43.37937927246094,19.3 l 3.68,-2.1 M 0.5,23.5 V 18.5 m -7.36,-0.5 q -1.52,-5.5 0,-11 m 7.36,1 V 0.5 H 1
          "></path><text class="blocklyText" y="12.5" transform="translate(10,5)">not</text></g><rect fill-opacity="0" width="69.58195495605469" height="26" x="8" y="376"></rect><g class="blocklyDraggable" transform="translate(16,376)"><path class="blocklyPathDark" transform="translate(1,1)" fill="#cc8914" d="m 0,0 H 61.58195495605469 v 25 H 0 V 20 c 0,-10 -8,8 -8,-7.5 s 8,2.5 8,-7.5 z
          "></path><path class="blocklyPath" fill="#FFAB19" d="m 0,0 H 61.58195495605469 v 25 H 0 V 20 c 0,-10 -8,8 -8,-7.5 s 8,2.5 8,-7.5 z
          "></path><path class="blocklyPathLight" stroke="#ffc45e" d="m 0.5,0.5 H 61.08195495605469 M 61.08195495605469,0.5 M 0.5,24.5 V 18.5 m -7.36,-0.5 q -1.52,-5.5 0,-11 m 7.36,1 V 0.5 H 1
          "></path><g class="blocklyEditableText" transform="translate(10,5)" style="cursor: default;"><rect rx="4" ry="4" x="-5" y="0" height="16" width="51.58195495605469"></rect><text class="blocklyText" y="12.5">true<tspan style="fill: rgb(255, 171, 25);"> ▾</tspan></text></g></g><rect fill-opacity="0" width="50.8203125" height="25" x="8" y="426"></rect><g class="blocklyDraggable" transform="translate(16,426)"><path class="blocklyPathDark" transform="translate(1,1)" fill="#cc8914" d="m 0,0 H 42.8203125 v 24 H 0 V 20 c 0,-10 -8,8 -8,-7.5 s 8,2.5 8,-7.5 z
          "></path><path class="blocklyPath" fill="#FFAB19" d="m 0,0 H 42.8203125 v 24 H 0 V 20 c 0,-10 -8,8 -8,-7.5 s 8,2.5 8,-7.5 z
          "></path><path class="blocklyPathLight" stroke="#ffc45e" d="m 0.5,0.5 H 42.3203125 M 42.3203125,0.5 M 0.5,23.5 V 18.5 m -7.36,-0.5 q -1.52,-5.5 0,-11 m 7.36,1 V 0.5 H 1
          "></path><text class="blocklyText" y="12.5" transform="translate(10,5)">null</text></g><g class="blocklyDraggable" transform="translate(16,8)"><path class="blocklyPathDark" transform="translate(1,1)" fill="#cc8914" d="m 0,8 A 8,8 0 0,1 8,0 H 15 l 6,4 3,0 6,-4 H 66.30636596679688 v 5 c 0,10 -8,-8 -8,7.5 s 8,-2.5 8,7.5 v 4 H 66.30636596679688 l -6,4 -3,0 -6,-4 h -7 a 8,8 0 0,0 -8,8 v 8 a 8,8 0 0,0 8,8 H 66.30636596679688 v 10 H 29.5 l -6,4 -3,0 -6,-4 H 8 a 8,8 0 0,1 -8,-8 z
          "></path><path class="blocklyPath" fill="#FFAB19" d="m 0,8 A 8,8 0 0,1 8,0 H 15 l 6,4 3,0 6,-4 H 66.30636596679688 v 5 c 0,10 -8,-8 -8,7.5 s 8,-2.5 8,7.5 v 4 H 66.30636596679688 l -6,4 -3,0 -6,-4 h -7 a 8,8 0 0,0 -8,8 v 8 a 8,8 0 0,0 8,8 H 66.30636596679688 v 10 H 29.5 l -6,4 -3,0 -6,-4 H 8 a 8,8 0 0,1 -8,-8 z
          "></path><path class="blocklyPathLight" stroke="#ffc45e" d="m 0.5,7.5 A 7.5,7.5 0 0,1 8,0.5 H 15 l 6,4 3,0 6,-4 H 65.80636596679688 M 65.80636596679688,0.5 M 61.306365966796875,19.3 l 3.68,-2.1 M 65.80636596679688,24.5 M 38.29595832671122,46.01040764008565 a 8.5,8.5 0 0,0 6.0104076400856545,2.4895923599143455 H 65.80636596679688 M 2.6966991411008934,55.30330085889911 A 7.5,7.5 0 0,1 0.5,50 V 8
          "></path><g class="blocklyIconGroup blocklyIconGroupReadonly" display="block" transform="translate(10,5)"><rect class="blocklyIconShape" rx="4" ry="4" height="16" width="16"></rect><path class="blocklyIconSymbol" d="m4.203,7.296 0,1.368 -0.92,0.677 -0.11,0.41 0.9,1.559 0.41,0.11 1.043,-0.457 1.187,0.683 0.127,1.134 0.3,0.3 1.8,0 0.3,-0.299 0.127,-1.138 1.185,-0.682 1.046,0.458 0.409,-0.11 0.9,-1.559 -0.11,-0.41 -0.92,-0.677 0,-1.366 0.92,-0.677 0.11,-0.41 -0.9,-1.559 -0.409,-0.109 -1.046,0.458 -1.185,-0.682 -0.127,-1.138 -0.3,-0.299 -1.8,0 -0.3,0.3 -0.126,1.135 -1.187,0.682 -1.043,-0.457 -0.41,0.11 -0.899,1.559 0.108,0.409z"></path><circle class="blocklyIconShape" r="2.7" cx="8" cy="8"></circle></g><text class="blocklyText" y="12.5" transform="translate(37,5)">if</text><text class="blocklyText" y="12.5" transform="translate(10,29)">do</text></g><g class="blocklyDraggable" transform="translate(16,95)"><path class="blocklyPathDark" transform="translate(1,1)" fill="#cc8914" d="m 0,8 A 8,8 0 0,1 8,0 H 15 l 6,4 3,0 6,-4 H 151.59266662597656 v 25 v 5 c 0,10 -8,-8 -8,7.5 s 8,-2.5 8,7.5 v 4 H 66.30636596679688 l -6,4 -3,0 -6,-4 h -7 a 8,8 0 0,0 -8,8 v 8 a 8,8 0 0,0 8,8 H 151.59266662597656 v 10 H 29.5 l -6,4 -3,0 -6,-4 H 8 a 8,8 0 0,1 -8,-8 z
          "></path><path class="blocklyPath" fill="#FFAB19" d="m 0,8 A 8,8 0 0,1 8,0 H 15 l 6,4 3,0 6,-4 H 151.59266662597656 v 25 v 5 c 0,10 -8,-8 -8,7.5 s 8,-2.5 8,7.5 v 4 H 66.30636596679688 l -6,4 -3,0 -6,-4 h -7 a 8,8 0 0,0 -8,8 v 8 a 8,8 0 0,0 8,8 H 151.59266662597656 v 10 H 29.5 l -6,4 -3,0 -6,-4 H 8 a 8,8 0 0,1 -8,-8 z
          "></path><path class="blocklyPathLight" stroke="#ffc45e" d="m 0.5,7.5 A 7.5,7.5 0 0,1 8,0.5 H 15 l 6,4 3,0 6,-4 H 151.09266662597656 M 151.09266662597656,0.5 M 151.09266662597656,25.5 M 146.59266662597656,44.3 l 3.68,-2.1 M 151.09266662597656,49.5 M 38.29595832671122,71.01040764008566 a 8.5,8.5 0 0,0 6.0104076400856545,2.4895923599143455 H 151.09266662597656 M 2.6966991411008934,80.3033008588991 A 7.5,7.5 0 0,1 0.5,75 V 8
          "></path><g class="blocklyIconGroup blocklyIconGroupReadonly" display="block" transform="translate(10,5)"><rect class="blocklyIconShape" rx="4" ry="4" height="16" width="16"></rect><path class="blocklyIconSymbol" d="m4.203,7.296 0,1.368 -0.92,0.677 -0.11,0.41 0.9,1.559 0.41,0.11 1.043,-0.457 1.187,0.683 0.127,1.134 0.3,0.3 1.8,0 0.3,-0.299 0.127,-1.138 1.185,-0.682 1.046,0.458 0.409,-0.11 0.9,-1.559 -0.11,-0.41 -0.92,-0.677 0,-1.366 0.92,-0.677 0.11,-0.41 -0.9,-1.559 -0.409,-0.109 -1.046,0.458 -1.185,-0.682 -0.127,-1.138 -0.3,-0.299 -1.8,0 -0.3,0.3 -0.126,1.135 -1.187,0.682 -1.043,-0.457 -0.41,0.11 -0.899,1.559 0.108,0.409z"></path><circle class="blocklyIconShape" r="2.7" cx="8" cy="8"></circle></g><text class="blocklyText" y="12.5" transform="translate(37,5)">Switch&nbsp;(</text><g class="blocklyEditableText" transform="translate(99.13311767578125,5)" style="cursor: default;"><rect rx="4" ry="4" x="-5" y="0" height="16" width="29.577667236328125"></rect><text class="blocklyText" y="12.5">i<tspan style="fill: rgb(255, 171, 25);"> ▾</tspan></text></g><text class="blocklyText" y="12.5" transform="translate(128.71078491210938,5)">)</text><text class="blocklyText" y="12.5" transform="translate(102.62632751464844,30)">case</text><text class="blocklyText" y="12.5" transform="translate(10,54)">do</text></g></g><g class="blocklyBubbleCanvas" transform="translate(0,2) scale(1)"></g><g class="blocklyScrollbarVertical" transform="translate(169.09266662597656,2.5)" display="block"><rect class="blocklyScrollbarBackground" width="15" height="135"></rect><rect class="blocklyScrollbarHandle" rx="5" ry="5" width="10" x="2.5" height="40" y="0"></rect></g></g></g>
        </category>  
      </xml>
    </div>
    <textarea id="output" disabled="disabled" style="display: inline-block; height: 480px; width: 38%;">Output</textarea>
  </div>
  <button id="btnclearworkspace" onclick="demoWorkspace.clear();">Limpiar pantalla</button>

  <script src="../../msg/js/es.js"></script>
  <script>
    var demoWorkspace = Blockly.inject('blocklyDiv',
        {media: '../../media/',
         toolbox: document.getElementById('toolbox')});

    function showCode() {
      // Generate JavaScript code and display it.
      Blockly.JavaScript.INFINITE_LOOP_TRAP = null;
      var code = Blockly.JavaScript.workspaceToCode(demoWorkspace);
      alert(code);
    }

    function runCode() {
      // Generate JavaScript code and run it.
      window.LoopTrap = 1000;
      Blockly.JavaScript.INFINITE_LOOP_TRAP =
          'if (--window.LoopTrap == 0) throw "Infinite loop.";\n';
      var code = Blockly.JavaScript.workspaceToCode(demoWorkspace);
      Blockly.JavaScript.INFINITE_LOOP_TRAP = null;
      try {
        eval(code);
      } catch (e) {
        alert(e);
      }
    }
  </script>

  <script>
    var outputArea = document.getElementById('output');
    var runButton = document.getElementsByClassName('button2');
    var myInterpreter = null;
    var runner;

    function initApi(interpreter, globalObject) {
      // Add an API function for the alert() block, generated for "text_print" blocks.
      var wrapper = function(text) {
        text = text ? text.toString() : '';
        outputArea.value = outputArea.value + '\n' + text;
      };
      interpreter.setProperty(globalObject, 'alert',
          interpreter.createNativeFunction(wrapper));

      // Add an API function for the prompt() block.
      var wrapper = function(text) {
        text = text ? text.toString() : '';
        return interpreter.createPrimitive(prompt(text));
      };
      interpreter.setProperty(globalObject, 'prompt',
          interpreter.createNativeFunction(wrapper));

      // Add an API for the wait block.  See wait_block.js
      initInterpreterWaitForSeconds(interpreter, globalObject);

      // Add an API function for highlighting blocks.
      var wrapper = function(id) {
        id = id ? id.toString() : '';
        return interpreter.createPrimitive(highlightBlock(id));
      };
      interpreter.setProperty(globalObject, 'highlightBlock',
          interpreter.createNativeFunction(wrapper));
    }

    var highlightPause = false;
    var latestCode = '';

    function highlightBlock(id) {
      demoWorkspace.highlightBlock(id);
      highlightPause = true;
    }

    function resetStepUi(clearOutput) {
      demoWorkspace.highlightBlock(null);
      highlightPause = false;
      runButton.disabled = '';

      if (clearOutput) {
        outputArea.value = 'Program output:\n=================';
      }
    }

    function generateCodeAndLoadIntoInterpreter() {
      // Generate JavaScript code and parse it.
      Blockly.JavaScript.STATEMENT_PREFIX = 'highlightBlock(%1);\n';
      Blockly.JavaScript.addReservedWords('highlightBlock');
      latestCode = Blockly.JavaScript.workspaceToCode(demoWorkspace);

      resetStepUi(true);
    }

    function resetInterpreter() {
      myInterpreter = null;
      if (runner) {
        clearTimeout(runner);
        runner = null;
      }
    }

    function runCode() {
      if (!myInterpreter) {
        // First statement of this code.
        // Clear the program output.
        resetStepUi(true);
        runButton.disabled = 'disabled';

        // And then show generated code in an alert.
        // In a timeout to allow the outputArea.value to reset first.
        setTimeout(function() {
          alert('Ready to execute the following code\n' +
            '===================================\n' +
            latestCode);
          // Begin execution
          highlightPause = false;
          myInterpreter = new Interpreter(latestCode, initApi);
          runner = function() {
            if (myInterpreter) {
              var hasMore = myInterpreter.run();
              if (hasMore) {
                // Execution is currently blocked by some async call.
                // Try again later.
                setTimeout(runner, 10);
              } else {
                // Program is complete.
                outputArea.value += '\n\n<< Program complete >>';
                resetInterpreter();
                resetStepUi(false);
              }
            }
          };
          runner();
        }, 1);
        return;
      }
    }

    // Load the interpreter now, and upon future changes.
    generateCodeAndLoadIntoInterpreter();
    demoWorkspace.addChangeListener(function(event) {
      if (!(event instanceof Blockly.Events.Ui)) {
        // Something changed. Parser needs to be reloaded.
        resetInterpreter();
        generateCodeAndLoadIntoInterpreter();
      }
    });
  </script>

  <script>
    function exportBlocks() {
    try {
      var xml = Blockly.Xml.workspaceToDom(demoWorkspace);
      var xml_text = Blockly.Xml.domToText(xml);
	  
      var link = document.createElement('a');
      link.download="project.txt";
      link.href="data:application/octet-stream;utf-8," + encodeURIComponent(xml_text);
      document.body.appendChild(link);
      link.click();
      link.remove();
    } catch (e) {
    window.location.href="data:application/octet-stream;utf-8," + encodeURIComponent(xml_text);
    alert(e);
    }
  }
  function importBlocksFile(element) {
    try {	
      var file = element.files[0];
      var fr = new FileReader();           
      fr.onload = function (event) {
        var xml = Blockly.Xml.textToDom(event.target.result);
        demoWorkspace.clear();
        Blockly.Xml.domToWorkspace(xml, demoWorkspace);
      };
      fr.readAsText(file);
    } catch (e) {
      alert(e);
    }	  
  } 
  </script>
</body>
</html>
